<!-- component -->
<link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">

<div class="p-6 bg-white rounded-2xl shadow-md w-80 mx-auto">
    <div class="text-center mb-6">
        <h4 class="text-2xl font-semibold text-darkGray">Registro de Usuario</h4>
        <p class="text-sm text-gray-500">Complete el formulario para registrar al Usuario</p>
    </div>
    <div class="space-y-3">
        <div>
            <input 
            [(ngModel)]="newUser.nombre"
                class="w-full px-4 py-2 text-sm bg-lightGray border border-gray-300 rounded-lg text-darkGray placeholder-gray-400 focus:outline-none focus:bg-white focus:border-primary transition duration-300"
                type="text" placeholder="Nombre/s y Apellidos">
        </div>
        <div>
            <input [(ngModel)]="newUser.username"
                class="w-full px-4 py-2 text-sm bg-lightGray border border-gray-300 rounded-lg text-darkGray placeholder-gray-400 focus:outline-none focus:bg-white focus:border-primary transition duration-300"
                type="text" placeholder="Nombre de Usuario">
        </div>
        <div>
            <input [(ngModel)]="newUser.email"
                class="w-full px-4 py-2 text-sm bg-lightGray border border-gray-300 rounded-lg text-darkGray placeholder-gray-400 focus:outline-none focus:bg-white focus:border-primary transition duration-300"
                type="email" placeholder="Correo Electrónico">
        </div>
        <div *ngIf="emailInvalidError" class="text-red-500 mt-3 text-center">
            Por favor, introduce un correo electrónico válido.
        </div>
        <div>
            <input [(ngModel)]="newUser.adress"
                class="w-full px-4 py-2 text-sm bg-lightGray border border-gray-300 rounded-lg text-darkGray placeholder-gray-400 focus:outline-none focus:bg-white focus:border-primary transition duration-300"
                type="text" placeholder="Direccion">
        </div>
        <div>
            <input [(ngModel)]="newUser.password"
                class="w-full px-4 py-2 text-sm bg-lightGray border border-gray-300 rounded-lg text-darkGray placeholder-gray-400 focus:outline-none focus:bg-white focus:border-primary transition duration-300"
                type="password" placeholder="Contraseña">
        </div>
        <div>
            <input [(ngModel)]="newUser.confirmPassword"
                class="w-full px-4 py-2 text-sm bg-lightGray border border-gray-300 rounded-lg text-darkGray placeholder-gray-400 focus:outline-none focus:bg-white focus:border-primary transition duration-300"
                type="password" placeholder="Confirmar Contraseña">
        </div>
    </div>
    <div *ngIf="passwordMismatchError" class="text-red-500 mt-3 text-center">
        Las contraseñas no coinciden o son muy cortas, ingresa al menos 4 caracteres. Por favor, verifica e inténtalo de nuevo.
    </div>
    <div *ngIf="showSuccessMessage"
        class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-md p-6 w-full max-w-md mx-auto">
            <h3 class="text-lg font-semibold text-center">¡Éxito!</h3>
            <p class="text-center">Usuario registrado exitosamente.</p>
            <button (click)="showSuccessMessage = false" class="mt-4 px-4 py-2 bg-primary text-white rounded-lg">
                Cerrar
            </button>
        </div>
    </div>
    <button (click)="saveUser()"
        class="w-full mt-6 py-2 bg-primary hover:bg-mint text-white rounded-lg font-semibold transition duration-300 shadow-md">
        Registrar Usuario
    </button>
    <div *ngIf="showErrorMessage"class="text-red-500 mt-3 text-center">
        ¡Error al registrar Usuario!
    </div>
</div>